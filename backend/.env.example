# Application
APP_NAME=CineAesthete
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# API
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1
CORS_ORIGINS=["https://cineaesthete.com"]
ALLOWED_HOSTS=["cineaesthete.com", "*.cineaesthete.com"]

# Database - PostgreSQL
DATABASE_URL=postgresql+asyncpg://cineaesthete:password@postgres:5432/cineaesthete
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# Redis
REDIS_URL=redis://redis:6379
REDIS_DB_SESSIONS=0
REDIS_DB_CACHE=1
REDIS_DB_RATE_LIMIT=2
REDIS_DB_REALTIME=3
REDIS_DB_CELERY=4
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Security & Authentication
SECRET_KEY=your-secret-key-change-this-in-production-use-openssl-rand-hex-32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOGIN_ATTEMPT_WINDOW_MINUTES=15

# OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
OAUTH_REDIRECT_URI=https://cineaesthete.com/auth/callback

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@cineaesthete.com
SMTP_TLS=true

# External APIs
TMDB_API_KEY=your-tmdb-api-key
TMDB_BASE_URL=https://api.themoviedb.org/3
TMDB_RATE_LIMIT=40
JUSTWATCH_API_KEY=your-justwatch-api-key
OMDB_API_KEY=your-omdb-api-key

# Vector Databases
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=us-east-1-aws
PINECONE_INDEX_AESTHETIC=movie-aesthetic-search
PINECONE_INDEX_CONTENT=movie-content-embeddings
PINECONE_INDEX_USER=user-embeddings
PINECONE_DIMENSION=512
PINECONE_METRIC=cosine

# Elasticsearch
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=your-elastic-password
ELASTICSEARCH_INDEX_MOVIES=movies
ELASTICSEARCH_INDEX_REVIEWS=reviews

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_USER_INTERACTIONS=user-interactions
KAFKA_TOPIC_RECOMMENDATIONS=recommendations
KAFKA_TOPIC_SENTIMENT=sentiment-analysis
KAFKA_CONSUMER_GROUP=cineaesthete-consumers

# Celery
CELERY_BROKER_URL=redis://redis:6379/4
CELERY_RESULT_BACKEND=redis://redis:6379/4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240

# ML Models
MODEL_COLLABORATIVE_PATH=models/collaborative_filtering
MODEL_CONTENT_PATH=models/content_based
MODEL_GNN_PATH=models/graph_neural_network
MODEL_SENTIMENT_PATH=models/sentiment_analysis
MODEL_CLIP_PATH=openai/clip-vit-large-patch14
MODEL_BERT_PATH=distilbert-base-uncased
MODEL_EMOTION_PATH=j-hartmann/emotion-english-distilroberta-base

# LLM
OLLAMA_HOST=http://ollama:11434
OLLAMA_MODEL=mistral:7b-instruct
OLLAMA_TIMEOUT=60
OLLAMA_NUM_CTX=4096
OLLAMA_TEMPERATURE=0.7

# Recommendation Engine
REC_CANDIDATE_POOL_SIZE=200
REC_FINAL_RESULTS=20
REC_COLLABORATIVE_WEIGHT=0.35
REC_CONTENT_WEIGHT=0.25
REC_GNN_WEIGHT=0.20
REC_SENTIMENT_WEIGHT=0.10
REC_POPULARITY_WEIGHT=0.05
REC_CONTEXT_WEIGHT=0.05
REC_DIVERSITY_LAMBDA=0.7
REC_CACHE_TTL=3600

# Aesthetic Search
AESTHETIC_FRAMES_PER_MOVIE=15
AESTHETIC_FPS=0.333
AESTHETIC_SEARCH_TOP_K=50
AESTHETIC_MIN_SCORE=0.3
AESTHETIC_COLOR_TOLERANCE=0.1

# Sentiment Analysis
SENTIMENT_BATCH_SIZE=32
SENTIMENT_MAX_LENGTH=512
SENTIMENT_THRESHOLD_POSITIVE=0.2
SENTIMENT_THRESHOLD_NEGATIVE=-0.2
SENTIMENT_UPDATE_INTERVAL_HOURS=24

# Caching Strategy
CACHE_DEFAULT_TTL=3600
CACHE_USER_PROFILE_TTL=1800
CACHE_MOVIE_DETAILS_TTL=86400
CACHE_RECOMMENDATIONS_TTL=3600
CACHE_SEARCH_RESULTS_TTL=1800
CACHE_TRENDING_TTL=300

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
SENTRY_DSN=your-sentry-dsn
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# Logging
LOG_FORMAT=json
LOG_FILE=logs/cineaesthete.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# S3/Object Storage
S3_BUCKET=cineaesthete-media
S3_REGION=us-east-1
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_ENDPOINT_URL=https://s3.amazonaws.com
CDN_URL=https://cdn.cineaesthete.com

# A/B Testing
AB_TESTING_ENABLED=true
AB_TEST_SAMPLE_RATE=0.1

# Feature Flags
FEATURE_GNN_ENABLED=true
FEATURE_LLM_ENABLED=true
FEATURE_SOCIAL_ENABLED=true
FEATURE_REALTIME_ENABLED=true

# Performance
WORKER_COUNT=4
MAX_CONCURRENT_REQUESTS=1000
REQUEST_TIMEOUT=30
KEEPALIVE_TIMEOUT=5

# Data Processing
DATA_INGESTION_BATCH_SIZE=1000
DATA_UPDATE_INTERVAL_HOURS=24
TRAILER_DOWNLOAD_WORKERS=5
FRAME_EXTRACTION_WORKERS=10

# Model Training
TRAINING_BATCH_SIZE=256
TRAINING_EPOCHS=50
TRAINING_LEARNING_RATE=0.001
TRAINING_VALIDATION_SPLIT=0.2
TRAINING_EARLY_STOPPING_PATIENCE=5

# Development
RELOAD=false
WORKERS=4
